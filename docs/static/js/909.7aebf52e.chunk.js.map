{"version":3,"file":"static/js/909.7aebf52e.chunk.js","mappings":"uMACA,QAAuC,4C,aCYvC,MAiCA,EAjCsBA,KACpB,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,WAAmBC,EAAAA,EAAAA,IAAc,YACnDC,GAAOC,EAAAA,EAAAA,IAAeC,EAAAA,IAe5B,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,UAAWC,EAAuBC,SAC1CX,EAAKY,OAAS,EACbZ,EAAKa,KAAKC,IACRC,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CAAYC,GAAE,WAAAC,OAAaJ,GAAOH,SAAA,CACpCG,GACDP,EAAAA,EAAAA,KAAA,QAAMY,QAAUC,GAnBAC,EACxBD,EACAE,KAEAF,EAAEG,iBACF,MAAMC,EAAcxB,EAAKyB,QAAQX,GAAiBA,IAASQ,IAC3DrB,EAAQuB,IACRE,EAAAA,EAAAA,IAAwBJ,GAEhB,OAAJlB,QAAI,IAAJA,GAAAA,EAAMuB,MACRC,EAAAA,EAAAA,IAAyB,OAAJxB,QAAI,IAAJA,OAAI,EAAJA,EAAMuB,IAAK,UAAWL,EAC7C,EAQ8BD,CAAkBD,EAAGN,GAAMH,SAAC,QAFzCG,MAMbP,EAAAA,EAAAA,KAAA,MAAAI,SAAI,wJAEI,C","sources":["webpack://aston-react/./src/pages/SearchHistory/SearchHistory.module.css?a08d","pages/SearchHistory/SearchHistory.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchHistoryWrapper\":\"SearchHistory_searchHistoryWrapper__weUlk\"};","import { Link } from \"react-router-dom\"\r\nimport { useState } from \"react\"\r\n\r\nimport {\r\n  getDataFromLS,\r\n  removeItemFromHistoryLS,\r\n} from \"../../utils/localStorage\"\r\nimport { Container } from \"../../components/layout/container/Container\"\r\nimport { deleteUserDataFromDB } from \"../../firebase/database/database\"\r\nimport { useAppSelector, userSelector } from \"../../hooks/useAppSelector\"\r\n\r\nimport s from \"./SearchHistory.module.css\"\r\n\r\nconst SearchHistory = () => {\r\n  const [data, setData] = useState<string[]>(getDataFromLS(\"history\"))\r\n  const user = useAppSelector(userSelector)\r\n\r\n  const removeFromHistory = (\r\n    e: React.MouseEvent<HTMLSpanElement, MouseEvent>,\r\n    itemToRemove: string,\r\n  ) => {\r\n    e.preventDefault()\r\n    const updatedData = data.filter((item: string) => item !== itemToRemove)\r\n    setData(updatedData)\r\n    removeItemFromHistoryLS(itemToRemove)\r\n\r\n    if (user?.uid) {\r\n      deleteUserDataFromDB(user?.uid, \"history\", itemToRemove)\r\n    }\r\n  }\r\n  return (\r\n    <Container className={s.searchHistoryWrapper}>\r\n      {data.length > 0 ? (\r\n        data.map((item: string) => (\r\n          <Link key={item} to={`/search/${item}`}>\r\n            {item}\r\n            <span onClick={(e) => removeFromHistory(e, item)}>X</span>\r\n          </Link>\r\n        ))\r\n      ) : (\r\n        <h1>История поиска отсутствует</h1>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default SearchHistory\r\n"],"names":["SearchHistory","data","setData","useState","getDataFromLS","user","useAppSelector","userSelector","_jsx","Container","className","s","children","length","map","item","_jsxs","Link","to","concat","onClick","e","removeFromHistory","itemToRemove","preventDefault","updatedData","filter","removeItemFromHistoryLS","uid","deleteUserDataFromDB"],"sourceRoot":""}