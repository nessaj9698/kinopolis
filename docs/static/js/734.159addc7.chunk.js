"use strict";(self.webpackChunkaston_react=self.webpackChunkaston_react||[]).push([[734,839],{5492:(e,r,t)=>{t.d(r,{A:()=>s});t(5043);const s=t.p+"static/media/moviePoster.9f9e2a1a4a3269238a821f77b4266b65.svg"},3035:(e,r,t)=>{t.d(r,{C:()=>c});var s=t(5043),a=t(5614),o=t(8347),n=t(3870);var i=t(579);const c=e=>{let{addToFavourite:r,removeFromFavourite:t,movieId:c}=e;const[l,d]=(0,s.useState)((()=>{const e=localStorage.getItem("likedMovies");if(e){return JSON.parse(e).includes(c)}return!1})),u=(0,s.useContext)(o.FavouritesContext),h=(0,n.GV)(n.dt)||!1;return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:l?"#f50":"none",stroke:"#f50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:e=>{e.preventDefault(),l?t():r(),h&&((0,a.$$)(c),d(!l)),u&&null!==u&&void 0!==u&&u.removeFromFavorites&&u.removeFromFavorites()},children:(0,i.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3 9 3 10.54 3.89 12 5.35 13.46 3.89 15 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})})}},7495:(e,r,t)=>{t.d(r,{e:()=>v});const s="CardRows_cardRows__mvQH0";var a=t(5475),o=t(5043),n=t(5492),i=t(3035),c=t(1935),l=t(3870);const d="MovieCard_movieCard__CNoP6";var u=t(579);const h=e=>{let{id:r,name:t,poster:s}=e;const h=(0,l.GV)(l.Sj),v=(0,o.useCallback)((()=>{h&&(0,c.$q)(h,"likedMovies",r)}),[h]),m=(0,o.useCallback)((()=>{h&&(0,c.jS)(h,"likedMovies",r)}),[]);return(0,u.jsx)(a.N_,{to:"/movie/".concat(r),children:(0,u.jsxs)("article",{className:d,children:[(0,u.jsx)("img",{src:s.previewUrl||n.A}),(0,u.jsx)("h2",{children:t}),h&&(0,u.jsx)(i.C,{addToFavourite:v,removeFromFavourite:m,movieId:String(r)})]})})},v=e=>{let{data:r}=e;return(0,u.jsx)("div",{className:s,children:r.map((e=>(0,u.jsx)(h,{id:e.id,name:e.name,poster:e.poster},e.id)))})}},8347:(e,r,t)=>{t.r(r),t.d(r,{FavouritesContext:()=>v,default:()=>m});var s=t(5043),a=t(592),o=t(3369),n=t(5614);const i=()=>{const e=(0,n.cQ)("likedMovies");return(0,o.N_)(e)};var c=t(7495),l=t(9708),d=t(7026);const u="FavouritesPage_Heading__-Fk9T";var h=t(579);const v=(0,s.createContext)(null),m=()=>{const[e,r]=(0,s.useState)((()=>i())),t=()=>{r(i())},o=(0,s.useMemo)((()=>({removeFromFavorites:t})),[t]),{data:n,error:m,isLoading:x}=(0,d.nq)(e,{skip:0===e.length});return(0,h.jsx)(v.Provider,{value:o,children:(0,h.jsxs)(l.m,{className:"maximum-height",children:[n&&e&&(0,h.jsx)(c.e,{data:n}),x&&(0,h.jsx)(a.a,{}),m&&(0,h.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),0===e.length&&(0,h.jsx)("h1",{className:u,children:"\u041d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"})]})})}},2734:(e,r,t)=>{t.r(r),t.d(r,{HomePage:()=>N,default:()=>b});var s=t(9708),a=t(5043),o=t(6328),n=t(3277),i=t(3870);const c="Input_inputElement__3MTLm";var l=t(579);const d=e=>{let{value:r="",handleChange:t,placeholder:s="",onFocus:o,onBlur:n}=e;const[i,d]=(0,a.useState)("");return(0,l.jsx)("input",{className:c,type:"text",value:r||i,onChange:e=>(e=>{t(e),d(e)})(e.target.value),placeholder:s,onFocus:o,onBlur:n})};var u=t(1414);var h=t(7197),v=t(3216);var m=t(5614),x=t(1935),j=t(5475),p=t(592),g=t(5492);const _="SearchResults_resultsWrapper__n4L7s",f=e=>{let{data:r,fetchStatus:t}=e;return(0,l.jsxs)("ul",{className:_,children:["complete"===t&&(0,l.jsx)(l.Fragment,{children:r.map((e=>(0,l.jsx)("li",{children:(0,l.jsxs)(j.N_,{to:"./movie/".concat(e.id),children:[(0,l.jsx)("img",{src:null!==e.poster.previewUrl?e.poster.previewUrl:g.A}),e.name]},e.id)},e.id)))}),"loading"===t&&(0,l.jsx)(p.a,{}),"error"===t&&(0,l.jsx)("p",{children:"Error loading data"})]})},F="SearchForm_searchFormWrapper__i8IDR",C=()=>{const[e,r]=(0,a.useState)(""),t=(0,i.GV)(i.zn),s=(0,i.GV)(i.Oo),c=(0,i.GV)(i.dt),j=(0,n.j)(),[p]=function(e,r){const[t,s]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const t=setTimeout((()=>{s(e)}),r);return()=>{clearTimeout(t)}}),[e,r]),[t,s]}(e,1e3),g=(e=>{const r=(0,v.Zp)();return()=>{r("/search/".concat(e))}})(e),[_,C]=(0,a.useState)(!1),k=(0,a.useCallback)((e=>{r(e)}),[r]);return(0,a.useEffect)((()=>{j(p?(0,h.Je)(p):(0,h.yz)())}),[p]),(0,l.jsxs)("form",{className:F,children:[(0,l.jsx)(d,{handleChange:e=>k(e),placeholder:"\u0412\u0432\u0435\u0434\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",onFocus:()=>{C(!0)},onBlur:()=>{setTimeout((()=>{C(!1)}),150)},required:!0}),(0,l.jsx)(u.$,{btnText:"\u0418\u0441\u043a\u0430\u0442\u044c",handleClick:r=>(r=>{r.preventDefault(),e.length>0?(g(),(0,m.fV)(e),null!==c&&void 0!==c&&c.uid&&(0,x.$q)(c.uid,"history",e)):o.o.error("\u041f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")})(r),type:"submit"}),null!==s&&_&&(0,l.jsx)(f,{data:t,fetchStatus:s})]})};var k=t(7495),S=t(7026);const w={heroSection:"Homepage_heroSection__RK-vm"};function N(){const{data:e,isLoading:r,error:t}=(0,S.kY)(void 0);return(0,l.jsxs)("main",{children:[(0,l.jsx)("section",{className:w.heroSection,children:(0,l.jsxs)(s.m,{children:[(0,l.jsx)("h1",{children:"\u041d\u0430\u0439\u0434\u0438 \u0441\u0432\u043e\u0439 \u0444\u0438\u043b\u044c\u043c"}),(0,l.jsx)(C,{})]})}),(0,l.jsx)("section",{children:(0,l.jsxs)(s.m,{children:[r&&(0,l.jsx)(p.a,{}),e&&(0,l.jsx)(k.e,{data:e}),t&&(0,l.jsx)("p",{children:"error"}),(0,l.jsx)("p",{})]})})]})}const b=N}}]);
//# sourceMappingURL=734.159addc7.chunk.js.map