"use strict";(self.webpackChunkaston_react=self.webpackChunkaston_react||[]).push([[839],{5492:(e,t,r)=>{r.d(t,{A:()=>s});r(5043);const s=r.p+"static/media/moviePoster.9f9e2a1a4a3269238a821f77b4266b65.svg"},3035:(e,t,r)=>{r.d(t,{C:()=>d});var s=r(5043),o=r(5614),a=r(8347),i=r(3870);var n=r(579);const d=e=>{let{addToFavourite:t,removeFromFavourite:r,movieId:d}=e;const[c,l]=(0,s.useState)((()=>{const e=localStorage.getItem("likedMovies");if(e){return JSON.parse(e).includes(d)}return!1})),v=(0,s.useContext)(a.FavouritesContext),m=(0,i.GV)(i.dt)||!1;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:c?"#f50":"none",stroke:"#f50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:e=>{e.preventDefault(),c?r():t(),m&&((0,o.$$)(d),l(!c)),v&&null!==v&&void 0!==v&&v.removeFromFavorites&&v.removeFromFavorites()},children:(0,n.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3 9 3 10.54 3.89 12 5.35 13.46 3.89 15 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})})}},7495:(e,t,r)=>{r.d(t,{e:()=>u});const s="CardRows_cardRows__mvQH0";var o=r(5475),a=r(5043),i=r(5492),n=r(3035),d=r(1935),c=r(3870);const l="MovieCard_movieCard__CNoP6";var v=r(579);const m=e=>{let{id:t,name:r,poster:s}=e;const m=(0,c.GV)(c.Sj),u=(0,a.useCallback)((()=>{m&&(0,d.$q)(m,"likedMovies",t)}),[m]),h=(0,a.useCallback)((()=>{m&&(0,d.jS)(m,"likedMovies",t)}),[]);return(0,v.jsx)(o.N_,{to:"/movie/".concat(t),children:(0,v.jsxs)("article",{className:l,children:[(0,v.jsx)("img",{src:s.previewUrl||i.A}),(0,v.jsx)("h2",{children:r}),m&&(0,v.jsx)(n.C,{addToFavourite:u,removeFromFavourite:h,movieId:String(t)})]})})},u=e=>{let{data:t}=e;return(0,v.jsx)("div",{className:s,children:t.map((e=>(0,v.jsx)(m,{id:e.id,name:e.name,poster:e.poster},e.id)))})}},8347:(e,t,r)=>{r.r(t),r.d(t,{FavouritesContext:()=>u,default:()=>h});var s=r(5043),o=r(592),a=r(3369),i=r(5614);const n=()=>{const e=(0,i.cQ)("likedMovies");return(0,a.N_)(e)};var d=r(7495),c=r(9708),l=r(7026);const v="FavouritesPage_Heading__-Fk9T";var m=r(579);const u=(0,s.createContext)(null),h=()=>{const[e,t]=(0,s.useState)((()=>n())),r=()=>{t(n())},a=(0,s.useMemo)((()=>({removeFromFavorites:r})),[r]),{data:i,error:h,isLoading:x}=(0,l.nq)(e,{skip:0===e.length});return(0,m.jsx)(u.Provider,{value:a,children:(0,m.jsxs)(c.m,{className:"maximum-height",children:[i&&e&&(0,m.jsx)(d.e,{data:i}),x&&(0,m.jsx)(o.a,{}),h&&(0,m.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),0===e.length&&(0,m.jsx)("h1",{className:v,children:"\u041d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"})]})})}}}]);
//# sourceMappingURL=839.7b309753.chunk.js.map