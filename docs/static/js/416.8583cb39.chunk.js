"use strict";(self.webpackChunkaston_react=self.webpackChunkaston_react||[]).push([[416,839],{5492:(e,r,s)=>{s.d(r,{A:()=>a});s(5043);const a=s.p+"static/media/moviePoster.9f9e2a1a4a3269238a821f77b4266b65.svg"},3035:(e,r,s)=>{s.d(r,{C:()=>c});var a=s(5043),t=s(5614),o=s(8347),i=s(3870);var n=s(579);const c=e=>{let{addToFavourite:r,removeFromFavourite:s,movieId:c}=e;const[d,l]=(0,a.useState)((()=>{const e=localStorage.getItem("likedMovies");if(e){return JSON.parse(e).includes(c)}return!1})),v=(0,a.useContext)(o.FavouritesContext),m=(0,i.GV)(i.dt)||!1;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:d?"#f50":"none",stroke:"#f50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",onClick:e=>{e.preventDefault(),d?s():r(),m&&((0,t.$$)(c),l(!d)),v&&null!==v&&void 0!==v&&v.removeFromFavorites&&v.removeFromFavorites()},children:(0,n.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3 9 3 10.54 3.89 12 5.35 13.46 3.89 15 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})})}},7495:(e,r,s)=>{s.d(r,{e:()=>h});const a="CardRows_cardRows__mvQH0";var t=s(5475),o=s(5043),i=s(5492),n=s(3035),c=s(1935),d=s(3870);const l="MovieCard_movieCard__CNoP6";var v=s(579);const m=e=>{let{id:r,name:s,poster:a}=e;const m=(0,d.GV)(d.Sj),h=(0,o.useCallback)((()=>{m&&(0,c.$q)(m,"likedMovies",r)}),[m]),u=(0,o.useCallback)((()=>{m&&(0,c.jS)(m,"likedMovies",r)}),[]);return(0,v.jsx)(t.N_,{to:"/movie/".concat(r),children:(0,v.jsxs)("article",{className:l,children:[(0,v.jsx)("img",{src:a.previewUrl||i.A}),(0,v.jsx)("h2",{children:s}),m&&(0,v.jsx)(n.C,{addToFavourite:h,removeFromFavourite:u,movieId:String(r)})]})})},h=e=>{let{data:r}=e;return(0,v.jsx)("div",{className:a,children:r.map((e=>(0,v.jsx)(m,{id:e.id,name:e.name,poster:e.poster},e.id)))})}},8347:(e,r,s)=>{s.r(r),s.d(r,{FavouritesContext:()=>h,default:()=>u});var a=s(5043),t=s(592),o=s(3369),i=s(5614);const n=()=>{const e=(0,i.cQ)("likedMovies");return(0,o.N_)(e)};var c=s(7495),d=s(9708),l=s(7026);const v="FavouritesPage_Heading__-Fk9T";var m=s(579);const h=(0,a.createContext)(null),u=()=>{const[e,r]=(0,a.useState)((()=>n())),s=()=>{r(n())},o=(0,a.useMemo)((()=>({removeFromFavorites:s})),[s]),{data:i,error:u,isLoading:x}=(0,l.nq)(e,{skip:0===e.length});return(0,m.jsx)(h.Provider,{value:o,children:(0,m.jsxs)(d.m,{className:"maximum-height",children:[i&&e&&(0,m.jsx)(c.e,{data:i}),x&&(0,m.jsx)(t.a,{}),u&&(0,m.jsx)("h1",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),0===e.length&&(0,m.jsx)("h1",{className:v,children:"\u041d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"})]})})}},3416:(e,r,s)=>{s.r(r),s.d(r,{SearchPage:()=>v,default:()=>m});var a=s(3216),t=s(7495),o=s(9708),i=s(7026),n=s(9712),c=s(592);const d="SearchPage_searchPageTitle__wf7O+";var l=s(579);const v=()=>{const{query:e}=(0,a.g)(),{data:r,isLoading:s,error:v}=(0,i.u5)({query:e,limit:20});return(0,l.jsx)(n.t,{fallback:(0,l.jsx)("h1",{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"}),children:(0,l.jsxs)(o.m,{className:"maximum-height m-30",children:[(0,l.jsx)("h2",{className:d,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430:"}),r&&(0,l.jsx)(t.e,{data:r}),r&&0===r.length&&(0,l.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),s&&(0,l.jsx)(c.a,{}),v&&(0,l.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"})]})})},m=v}}]);
//# sourceMappingURL=416.8583cb39.chunk.js.map