{"version":3,"file":"static/js/227.60cb6846.chunk.js","mappings":"wIACA,QAA2B,2BAA3B,EAAwE,kCAAxE,EAA0H,gC,aCenH,MAAMA,EAAWC,IAMV,IANW,MACvBC,EAAK,WACLC,EAAU,gBACVC,EAAe,cACfC,EAAa,MACbC,GACML,EACN,MAAM,aACJM,EAAY,QACZC,EAAO,QACPC,EACAC,WAAW,OAAEC,KACXC,EAAAA,EAAAA,MAEEC,EAAgBC,gBACdL,EAAQM,EAAU,EAO1B,OACEC,EAAAA,EAAAA,MAAA,QAAMC,SAAUV,GAL+BW,IAC/Cd,EAAgBc,EAAK,IAImBC,YAAU,EAACC,UAAWC,EAAWC,SAAA,EACvEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKpB,KACLc,EAAAA,EAAAA,MAAA,OAAAM,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOC,QAAQ,QAAOF,SAAC,YACvBC,EAAAA,EAAAA,KAACE,EAAAA,GAAU,CACTC,KAAK,QACLlB,QAASA,EACTmB,aAAa,GACbC,MAAO,CACLC,SAAU,oGACVC,QAAS,CACPC,MAAO,aACPC,QAAS,gGAGbC,OAAQC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAChBX,EAAAA,EAAAA,KAAA,YACMY,EACJC,KAAK,QACLC,YAAY,sEACZC,OAAQA,IAAMzB,EAAc,SAC5B,eAAcF,EAAO4B,MAAQ,OAAS,SACtC,IAGL5B,EAAO4B,QAAShB,EAAAA,EAAAA,KAAA,QAAMiB,KAAK,QAAOlB,SAAEX,EAAO4B,MAAMP,cAGpDhB,EAAAA,EAAAA,MAAA,OAAAM,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAOC,QAAQ,WAAUF,SAAC,2CAC1BC,EAAAA,EAAAA,KAACE,EAAAA,GAAU,CACTC,KAAK,WACLlB,QAASA,EACTmB,aAAa,GACbC,MAAO,CACLC,SAAU,oGACVY,UAAW,CACTV,MAAO,EACPC,QAAS,oOAGbC,OAAQS,IAAA,IAAC,MAAEP,GAAOO,EAAA,OAChBnB,EAAAA,EAAAA,KAAA,YACMY,EACJC,KAAK,WACLC,YAAY,qGACZC,OAAQA,IAAMzB,EAAc,YAC5B,eAAcF,EAAOgC,SAAW,OAAS,SACzC,IAGLhC,EAAOgC,WAAYpB,EAAAA,EAAAA,KAAA,QAAMiB,KAAK,QAAOlB,SAAEX,EAAOgC,SAASX,cAG1DT,EAAAA,EAAAA,KAAA,UAAQa,KAAK,SAASQ,SAA4B,eAAlBvC,EAA+BiB,SAC5DnB,GAA0B,2DAGV,aAAlBE,IACCkB,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAkBC,SAAC,gDAElChB,IAASU,EAAAA,EAAAA,MAAA,KAAGI,UAAWC,EAAgBC,SAAA,CAAC,yCAAShB,OAC7C,C,qGCpGX,QAAkC,0C,aCYlC,MAqBA,EArByBuC,KACvB,MAAMC,GAAWC,EAAAA,EAAAA,KAKXC,GAAqBC,EAAAA,EAAAA,IAAeC,EAAAA,IACpCC,GAA0BF,EAAAA,EAAAA,IAAeG,EAAAA,IAC/C,OACE7B,EAAAA,EAAAA,KAAC8B,EAAAA,EAAS,CAACjC,UAAWC,EAAkBC,UACtCC,EAAAA,EAAAA,KAACvB,EAAAA,EAAQ,CACPE,MAAM,qEACNC,WAAW,+GACXC,gBAXsBc,IAC1B4B,GAASQ,EAAAA,EAAAA,IAAapC,GAAM,EAWxBb,cAAe2C,EACf1C,MAAO6C,KAEC,C","sources":["webpack://aston-react/./src/components/userForm/UserForm.module.css?2194","components/userForm/UserForm.tsx","webpack://aston-react/./src/pages/RegistrationPage/RegistrationPage.module.css?b753","pages/RegistrationPage/RegistrationPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userForm\":\"UserForm_userForm__bcMib\",\"userFormSuccess\":\"UserForm_userFormSuccess__YNNrT\",\"userFormError\":\"UserForm_userFormError__1g9eX\"};","import { useForm, SubmitHandler, Controller } from \"react-hook-form\"\r\n\r\nimport { SerializedError } from \"@reduxjs/toolkit\"\r\n\r\nimport { UserFormInputs } from \"../../types/User\"\r\n\r\nimport s from \"./UserForm.module.css\"\r\n\r\ninterface Props {\r\n  title: string\r\n  submitText?: string\r\n  onSubmitHandler: (data: UserFormInputs) => void\r\n  requestStatus?: null | \"complete\" | \"processing\" | SerializedError | string\r\n  error?: string | null\r\n}\r\n\r\nexport const UserForm = ({\r\n  title,\r\n  submitText,\r\n  onSubmitHandler,\r\n  requestStatus,\r\n  error,\r\n}: Props) => {\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n    trigger,\r\n    formState: { errors },\r\n  } = useForm<UserFormInputs>()\r\n\r\n  const validateField = async (fieldName: keyof UserFormInputs) => {\r\n    await trigger(fieldName)\r\n  }\r\n\r\n  const onSubmit: SubmitHandler<UserFormInputs> = (data) => {\r\n    onSubmitHandler(data)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} noValidate className={s.userForm}>\r\n      <h1>{title}</h1>\r\n      <div>\r\n        <label htmlFor=\"email\">Email:</label>\r\n        <Controller\r\n          name=\"email\"\r\n          control={control}\r\n          defaultValue=\"\"\r\n          rules={{\r\n            required: \"Обязательное поле\",\r\n            pattern: {\r\n              value: /^\\S+@\\S+$/i,\r\n              message: \"Неверный формат email\",\r\n            },\r\n          }}\r\n          render={({ field }) => (\r\n            <input\r\n              {...field}\r\n              type=\"email\"\r\n              placeholder=\"Введите ваш email\"\r\n              onBlur={() => validateField(\"email\")}\r\n              aria-invalid={errors.email ? \"true\" : \"false\"}\r\n            />\r\n          )}\r\n        />\r\n        {errors.email && <span role=\"alert\">{errors.email.message}</span>}\r\n      </div>\r\n\r\n      <div>\r\n        <label htmlFor=\"password\">Пароль:</label>\r\n        <Controller\r\n          name=\"password\"\r\n          control={control}\r\n          defaultValue=\"\"\r\n          rules={{\r\n            required: \"Обязательное поле\",\r\n            minLength: {\r\n              value: 3,\r\n              message: \"Пароль должен содержать не менее 3 символов\",\r\n            },\r\n          }}\r\n          render={({ field }) => (\r\n            <input\r\n              {...field}\r\n              type=\"password\"\r\n              placeholder=\"Введите ваш пароль\"\r\n              onBlur={() => validateField(\"password\")}\r\n              aria-invalid={errors.password ? \"true\" : \"false\"}\r\n            />\r\n          )}\r\n        />\r\n        {errors.password && <span role=\"alert\">{errors.password.message}</span>}\r\n      </div>\r\n\r\n      <button type=\"submit\" disabled={requestStatus === \"processing\"}>\r\n        {submitText ? submitText : \"Отправить\"}\r\n      </button>\r\n\r\n      {requestStatus === \"complete\" && (\r\n        <p className={s.userFormSuccess}>Успешно!</p>\r\n      )}\r\n      {error && <p className={s.userFormError}>Ошибка: {error}</p>}\r\n    </form>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"userFormWrapper\":\"RegistrationPage_userFormWrapper__Yoeg2\"};","import { Container } from \"../../components/layout/container/Container\"\r\nimport { UserForm } from \"../../components/userForm/UserForm\"\r\nimport { UserFormInputs } from \"../../types/User\"\r\nimport { Registration } from \"../../store/authSlice\"\r\nimport {\r\n  useAppSelector,\r\n  registrationErrorSelector,\r\n  registrationStatusSelector,\r\n} from \"../../hooks/useAppSelector\"\r\nimport { useAppDispatch } from \"../../hooks/useAppDispatch\"\r\n\r\nimport s from \"./RegistrationPage.module.css\"\r\n\r\nconst RegistrationPage = () => {\r\n  const dispatch = useAppDispatch()\r\n  const handleRegistration = (data: UserFormInputs) => {\r\n    dispatch(Registration(data))\r\n  }\r\n\r\n  const registrationStatus = useAppSelector(registrationStatusSelector)\r\n  const registrationErrorStatus = useAppSelector(registrationErrorSelector)\r\n  return (\r\n    <Container className={s.userFormWrapper}>\r\n      <UserForm\r\n        title=\"Регистрация\"\r\n        submitText=\"Зарегистрироваться\"\r\n        onSubmitHandler={handleRegistration}\r\n        requestStatus={registrationStatus}\r\n        error={registrationErrorStatus}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default RegistrationPage\r\n"],"names":["UserForm","_ref","title","submitText","onSubmitHandler","requestStatus","error","handleSubmit","control","trigger","formState","errors","useForm","validateField","async","fieldName","_jsxs","onSubmit","data","noValidate","className","s","children","_jsx","htmlFor","Controller","name","defaultValue","rules","required","pattern","value","message","render","_ref2","field","type","placeholder","onBlur","email","role","minLength","_ref3","password","disabled","RegistrationPage","dispatch","useAppDispatch","registrationStatus","useAppSelector","registrationStatusSelector","registrationErrorStatus","registrationErrorSelector","Container","Registration"],"sourceRoot":""}